#!/usr/bin/env ruby
require 'rubygems'
gem 'gtk2applib', '~> 1.0.1'
require 'gtk2applib/gtk2_app'

about = {
        'authors'       => ['carlosjhr64@gmail.com'],
        'comments'      => 'Ruby-Gtk2 Diary',
        'website'       => 'http://ruby-gnome-apps.blogspot.com/search/label/Diary',
        'website-label' => 'Ruby-Gnome Diary',
        'license'       => 'GPL',
        'copyright'     => '2009-Apr-03',
}

Gtk2App.instance(__FILE__, 'Ruby-Gnome Diary', about, true, true) do |window|
  UserSpace.mkdir('/diary')
  require 'gtk2diaryapp/gtk2diaryapp'
  Gtk2DiaryApp.new(window)
end

require 'find'
Find.find(Configuration::DIARY_DIRECTORY){|fn| File.unlink(fn) if fn=~/\.txt\.bak/ }
